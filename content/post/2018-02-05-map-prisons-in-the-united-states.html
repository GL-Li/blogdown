---
title: Mapping prisons in the United States
author: GL Li
date: '2018-02-05'
slug: map-prisons-in-the-united-states
categories:
  - census
tags:
  - census
draft: true
---



<p>Despite 1 in every 110 adults are locked behind bars, most ordenary people have no idea where are these prisons. This post helps you find out the location of and number of inmates in federal prisons, state prisons, and local jails.</p>
<p>The data are extracted from Census 2010. According to the census, a total number of 2,263,602 persons were incarcerated in the United States. Among them, 172,020 were in federal prisons, 1,248,167 in state prisons, and 682,043 in local jails. In addition to the total number, Census 2010 also provides the number of inmates in small areas down to census tract and county subdivision. With the small area data, we can map them on interactive maps.</p>
<p>We use <a href="https://github.com/GL-Li/totalcensus"><code>totalcensus</code> package</a> to extract prison data at county subdivision level and use <code>leaflet</code> package to make interactive map. Zoom in and click on each data point to find more information about a prison.</p>
<div id="code" class="section level1">
<h1>code</h1>
<pre class="r"><code>library(totalcensus)
library(tidyverse)
library(ggmap)

# federal and state prison location and population
# search tables for fedral prison
search_tablecontents(&quot;decennial&quot;)
    # PCT0200005 has the total population in federal prison
    # PCT0200006 has state prison population

# read prison population data
pris_pop &lt;- read_decennial(
    year = 2010,
    states = &quot;US&quot;,
    table_contents = c(
        &quot;total = PCT0200003&quot;, 
        &quot;fed_pris = PCT0200005&quot;, 
        &quot;state_pris = PCT0200006&quot;,
        &quot;local_jail = PCT0200007&quot;
    ),
    summary_level = &quot;county subdivision&quot;,
    show_progress = FALSE
) %&gt;%
    # remove county subdivisions that has no prison popualation
    filter(total != 0 | fed_pris != 0 | state_pris != 0 | local_jail != 0) %&gt;%
    mutate(fed_pris = ifelse(fed_pris == 0, NA, fed_pris)) %&gt;%
    mutate(state_pris = ifelse(state_pris == 0, NA, state_pris)) %&gt;%
    mutate(local_jail = ifelse(local_jail == 0, NA, local_jail))

# summarize prison population
sum_inmates &lt;- pris_pop %&gt;%
    summarise(total_inmates = sum(total),
              total_fedpris = sum(fed_pris, na.rm = TRUE),
              total_statepris = sum(state_pris, na.rm = TRUE),
              total_localjail = sum(local_jail, na.rm = TRUE))


state_map &lt;- map_data(&quot;state&quot;)
ggplot() +
    #geom_path(data = map_data(&quot;world&quot;), aes(long, lat, group = group), color = &quot;grey&quot;, size=0.5) +
    geom_polygon(data = state_map, aes(long, lat, group = group), 
                 fill = &quot;grey97&quot;, color = &quot;grey&quot;, size=0.3) +
    geom_point(data = pris_pop,
               aes(lon, lat, size = state_pris, color = &quot;blue&quot;),
               alpha = 0.8) +
    geom_point(data = pris_pop,
               aes(lon, lat, size = fed_pris, color = &quot;red&quot;),
               alpha = 0.8) +
    geom_point(data = pris_pop,
               aes(lon, lat, size = local_jail, color = &quot;green&quot;),
               alpha = 0.5) +
    scale_x_continuous(limits = c(-124.69, -67), expand = c(0, 0)) +
    scale_y_continuous(limits = c(25.12, 49.39), expand = c(0, 0)) +
    scale_size_area(max_size = 4, breaks = c(1000, 5000, 10000, 20000)) +
    scale_color_identity(guide = &quot;legend&quot;,
                         breaks = c(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;),
                         labels = c(&quot;federal&quot;, &quot;state&quot;, &quot;local&quot;)) +
    guides(color = guide_legend(override.aes = list(alpha = 1, size = 4))) +
    labs(title = &quot;Federal Prisons, State Prisons and Local Jails: Location and Number of Inmates &quot;,
         subtitle = &quot;Spatial resolution: county subdivision&quot;,
         caption = &quot;Source: Census 2010&quot;,
         color = NULL, size = &quot;inmates&quot;) +
    coord_map() +
    theme(
        panel.background = element_blank(),
        axis.line = element_blank(),
        axis.title = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        legend.position = c(1, 0),
        legend.justification = c(1, 0)
    )</code></pre>
<p><img src="/post/2018-02-05-map-prisons-in-the-united-states_files/figure-html/unnamed-chunk-2-1.png" width="864" /></p>
</div>
